{% extends 'finance/base.html' %}
{% block title %}{% block admin_title %}Админ-панель{% endblock %} — Умные финансы{% endblock %}

{% block extra_css %}
<style>
    .admin-layout { display: flex; gap: 0; min-height: 72vh; }
    .admin-sidebar {
        width: 260px; flex-shrink: 0;
        background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%);
        border-radius: 14px; padding: 1.25rem;
        box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    }
    .admin-sidebar .nav-link {
        color: rgba(255,255,255,0.88); padding: 0.7rem 0.9rem; border-radius: 10px;
        display: flex; align-items: center; gap: 0.6rem; font-weight: 500; transition: all 0.2s;
    }
    .admin-sidebar .nav-link:hover { background: rgba(255,255,255,0.12); color: #fff; }
    .admin-sidebar .nav-link.active { background: var(--primary); color: #fff; box-shadow: 0 2px 8px rgba(67, 97, 238, 0.4); }
    .admin-sidebar .nav-link i { font-size: 1.15rem; opacity: 0.9; }
    .admin-content { flex: 1; padding: 0 0 0 1.75rem; }
    .admin-stats-row {
        display: grid;
        grid-template-columns: repeat(6, 1fr);
        gap: 1rem;
        align-items: stretch;
    }
    @media (max-width: 1200px) {
        .admin-stats-row { grid-template-columns: repeat(3, 1fr); }
    }
    @media (max-width: 576px) {
        .admin-stats-row { grid-template-columns: 1fr; }
    }
    .admin-stat-card {
        background: #fff; border-radius: 14px; padding: 1.25rem;
        border: 1px solid #e2e8f0; box-shadow: 0 2px 8px rgba(0,0,0,0.04);
        transition: box-shadow 0.2s, transform 0.2s;
        min-height: 120px; display: flex; flex-direction: column;
        height: 100%;
    }
    .admin-stat-card:hover { box-shadow: 0 8px 24px rgba(0,0,0,0.08); transform: translateY(-2px); }
    .admin-stat-value { font-size: 1.85rem; font-weight: 700; color: var(--primary); letter-spacing: -0.02em; flex-shrink: 0; }
    .admin-stat-label { font-size: 0.8rem; color: #64748b; font-weight: 500; margin-bottom: 0.35rem; }
    .admin-stat-note { font-size: 0.75rem; color: #94a3b8; margin-top: auto; padding-top: 0.5rem; }
    .admin-table { font-size: 0.9rem; }
    .admin-card-header { background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%); border-bottom: 1px solid #e2e8f0; padding: 1rem 1.25rem; font-weight: 600; }
    .admin-section-title { font-size: 1rem; font-weight: 600; color: #1e293b; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid var(--primary); }
    @media (max-width: 768px) {
        .admin-layout { flex-direction: column; }
        .admin-sidebar { width: 100%; }
        .admin-content { padding-left: 0; padding-top: 1rem; }
    }
</style>
{% endblock %}

{% block content %}
<div class="container py-4">
    <div class="d-flex justify-content-between align-items-center mb-4 flex-wrap gap-2">
        <h1 class="mb-0" style="font-weight: 700; color: #1e293b;"><i class="bi bi-shield-lock me-2 text-primary"></i>{% block admin_heading %}Админ-панель{% endblock %}</h1>
        <a href="{% url 'dashboard' %}" class="btn btn-outline-primary btn-sm">← На сайт</a>
    </div>

    <div class="admin-layout">
        <nav class="admin-sidebar">
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link {% if request.resolver_match.url_name == 'admin_dashboard' %}active{% endif %}" href="{% url 'admin_dashboard' %}">
                        <i class="bi bi-graph-up"></i> Статистика
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% if 'admin_categor' in request.resolver_match.url_name %}active{% endif %}" href="{% url 'admin_categories' %}">
                        <i class="bi bi-tags"></i> Категории
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% if 'admin_user' in request.resolver_match.url_name %}active{% endif %}" href="{% url 'admin_users' %}">
                        <i class="bi bi-people"></i> Пользователи
                    </a>
                </li>
            </ul>
        </nav>
        <div class="admin-content">
            {% block admin_content %}{% endblock %}
        </div>
    </div>
</div>
{% endblock %}
